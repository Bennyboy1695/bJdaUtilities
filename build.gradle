plugins {
    id 'java'
    id 'me.bhop.autoversion' version '1.4.0'
    id 'maven'
}

group 'me.bhop'
// AutoVersion version fetch method. Just makes an api call.
project.version = new me.bhop.autoversiongradle.AutoVersionRunner().getVersion(null, "bjdautilities")

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile 'net.dv8tion:JDA:3.8.1_447'
    testCompile 'org.slf4j:slf4j-api:1.7.25'
    testCompile 'org.slf4j:slf4j-simple:1.7.25'
}

autoversion {
    projectId 'bjdautilities'
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: 'https://repo.netbans.co.uk/repository/netbans/') {
                authentication(userName: nexusUsername, password: nexusPassword)
            }

            pom.version = project.version
            pom.artifactId = "bjdautilities"
            pom.groupId = "me.bhop"
        }
    }
}